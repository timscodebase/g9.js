import g9 from "g9"

var data = {
    "value": 2
}

function render(data, ctx){
    // slider nub
    ctx.circle(80 * data.value, 0)

    // tick marks
    for(var i = 0; i < 10; i++){
        ctx.line(i * 80, 10, i * 80, 20)
    }
    
    // show current value
    ctx.text(data.value.toFixed(2), 0, 0)
}

var graphics = g9(data, render)
    .align('left', 'center')
    .insertInto('#root')


setInterval(function(){
    if(!graphics.isManipulating()){
        var data = graphics.getData()
        // move toward integers
        data.value = (data.value + Math.round(data.value)) / 2
        graphics.setData(data)    
    }
    
}, 10)

