import g9 from "g9"

var data = {
    "r": 100,
    "theta": 0
}
var folds = 4;

function render(data, ctx){
    for(var k = 0; k < 2 * Math.PI; k += 2 * Math.PI / folds){
    	ctx.circle(Math.cos(data.theta + k) * data.r, Math.sin(data.theta + k) * data.r) 
    }
}


function draw_trails(){
    var children = instance.node.childNodes;
    for(var i = 0; i < children.length; i++){
        if(children[i].isClone) continue;
        var clone = children[i].cloneNode(true)
        clone.isClone = true;
        clone.setAttribute('opacity', '0.1')
        clone.setAttribute('pointer-events', 'none')
        instance.node.appendChild(clone)   
    }
}

var instance = g9(data, render, draw_trails)
instance.insertInto('#root')

